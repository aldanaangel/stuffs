import jenkins.model.Jenkins
import com.cloudbees.hudson.plugins.folder.Folder
import org.jenkinsci.plugins.workflow.job.WorkflowJob
import hudson.model.Item

def printTree(item, prefix = "") {
    println "${prefix}${item.name}/"

    item.getItems().each { child ->
        if (child instanceof Folder) {
            printTree(child, prefix + "  ")
        } else if (child instanceof WorkflowJob) {
            println "${prefix}  - ${child.name}"
        }
    }
}

println "===== JENKINS TREE ====="
printTree(Jenkins.instance)
println "===== FIN ====="
